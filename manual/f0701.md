# “SQL防注入”功能设置
该功能通过匹配SQL注入、XSS攻击等攻击类型特征库对用户输入进行过滤，从而实现防止攻击保护网站的目的。
        
我们主要通过SQL防注入的默认防护规则为例通过相应的攻击实例来介绍该功能设置。

>XSS防护和防漏洞攻击设置与SQL防注入设置相同。

1） 开启SQL防注入规则的“防止简单的and or方式注入”的“检测URL”

![](/assets/f070101.png)

在浏览器的地址栏输入SQL注入的命令 and 1=1进行注入，如下图

![](/assets/f070102.png)

输入该条命令后，浏览器弹出云锁拦截界面。每当有类似的SQL注入时，云锁会弹出该拦截提示界面及提示信息。

![](/assets/f070103.png)

 云锁的防护日志下可以看到对应的日志。

![](/assets/f070104.png)

2） 开启SQL防注入规则的“防止简单的and or方式注入”的“检测Cookie”。

![](/assets/f070105.png)

使用工具burp获取Cookie，修改Cookie值后继续访问。

![](/assets/f070106.png)

访问后会弹出与“检测URL”一样的拦截页面。同时在防护日志会生成对应的拦截日志。

3） 开启SQL防注入规则的“防止简单的and or方式注入”的“检测Post”。

![](/assets/f070107.png)

在http协议中，搜索是Post方式提交请求；所以在搜索框中输入注入语句“? and 1=1”并提交。

![](/assets/f070108.png)

提交后部分网站会弹出与“检测URL”一样的拦截页面，部分网站会禁止提交请求，一直显示提交中。同时在防护日志会生成对应的拦截日志。

4） 除了默认的规则，我们还设置了自定义添加规则的功能，方便用户自己调整规则，充分加强了用户的自由度。

![](/assets/f070109.png)

提交自定义请求访问页面时，同SQL注入防护一样，会返回拦截页面及生成防护日志。

![](/assets/f070110.png)

![](/assets/f070111.png)

当配置的注入规则较为复杂而影响网站正常使用时，可以通过“设置中心”恢复默认配置，以使网站可以正常使用。

![](/assets/f070112.png)